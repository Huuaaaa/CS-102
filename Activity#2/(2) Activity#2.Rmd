---
title: "Activity#2"
output:
  pdf_document: default
  html_document: default
date: "2024-02-06"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r 1}
install.packages("rvest")
install.packages("httr")
install.packages("polite")

library(rvest)
library(httr)
library(polite)

session <- bow(url,
               user_agent = "Educational")
session
polite::use_manners(save_as = 'polite_scrape.R')

urllink <- 'https://www.imdb.com/title/tt4589218/reviews?ref_=tt_urv'




div_elements <- html_nodes(session_page, 'review-container')
```


```{r 2}
Username <- character(0)
ReviewerDate <- character(0)
ReviewerContent <- character(0)
Rating <- character(0)

for (page in 1:12) 
  Username <- scrape (session) %>%
    html_nodes('span.display-name-link')%>%
    html_text
  Username
  
  ReviewerDate <- scrape (session) %>%
    html_nodes('span.review-date')%>%
    html_text
  ReviewerDate

  ReviewerContent <- scrape (session) %>%
    html_nodes('div.text.show-more__control')%>%
    html_text
  ReviewerContent
  
  
  Rating <- scrape (session) %>%
    html_nodes('span.rating-other-user-rating')%>%
    html_text
  Rating
```

```{r 3}
  DataFrame <- data.frame(Usernames = Username,
                            Reviewer_Date =ReviewerDate,
                            Reviewer_Content = ReviewerContent,
                            Rating = Rating)
  
  
  write.csv(DataFrame, "1DF.csv")
  View(X1DF)  
  
  
```
